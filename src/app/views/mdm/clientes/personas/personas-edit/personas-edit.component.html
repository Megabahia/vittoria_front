<div class="app-content content">
    <div class="content-overlay"></div>
    <div class="header-navbar-shadow"></div>
    <div class="content-wrapper">

        <div class="content-body">
            <div id="user-profile">
                <!-- profile header -->
                <div class="row">
                    <div class="col-12">
                        <div class="card profile-header mb-2">
                            <!-- profile cover photo -->
                            <img class="card-img-top" src="assets/images/default-head-profile.jpg" alt="User Profile Image" />
                            <!--/ profile cover photo -->

                            <div class="position-relative">
                                <!-- profile picture -->
                                <div class="profile-img-container d-flex align-items-center">
                                    <div class="profile-img">
                                        <img style="width: 100%; height: 100%;" src="{{urlImagen ? urlImagen : '/assets/images/avatars/avatar.png'}}" class="rounded img-fluid" alt="Card image" />
                                    </div>
                                    <!-- profile title -->
                                    <div class="profile-title ml-3">
                                        <h2>{{datosBasicos.nombres}} {{datosBasicos.apellidos}}</h2>
                                        <div class="col-12 d-flex px-0">
                                            <label class="btn btn-primary btn-sm mr-75" for="change-picture">
                        <span class="d-none d-sm-block">Cambiar foto</span>
                        <input class="form-control" type="file" id="change-picture" hidden
                          accept="image/png, image/jpeg, image/jpg" (change)="guardarImagen($event)" />
                      </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- tabs pill -->
                            <div class="profile-header-nav">
                                <!-- navbar -->
                                <nav class="navbar navbar-expand-md navbar-light justify-content-end justify-content-md-between w-100">
                                    <button class="btn btn-icon navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i-feather name="align-justify" class="font-medium-5"></i-feather>
                  </button>

                                    <!-- collapse  -->
                                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                                        <div class="d-flex justify-content-between flex-wrap mt-1 mt-md-0">
                                            <ul class="nav nav-pills mb-0" role="tablist">
                                                <li class="nav-item">
                                                    <a class="nav-link font-weight-bold active" #tab1 data-toggle="tab" href="#tab1" aria-controls="account" role="tab" aria-selected="true">
                                                        <span class="d-none d-md-block">Datos básicos</span>
                                                        <i-feather name="info" class="d-block d-md-none"></i-feather>
                                                    </a>
                                                </li>


                                                <li class="nav-item">
                                                    <a class="nav-link font-weight-bold" #tab2 data-toggle="tab" href="#tab4" aria-controls="account" role="tab" aria-selected="true">
                                                        <span class="d-none d-md-block">Datos físicos</span>
                                                        <i-feather name="image" class="d-block d-md-none edit-user">
                                                        </i-feather>
                                                    </a>
                                                </li>

                                                <li class="nav-item">
                                                    <a class="nav-link font-weight-bold" #tab3 data-toggle="tab" href="#tab5" aria-controls="account" role="tab" aria-selected="true">
                                                        <span class="d-none d-md-block">Datos virtuales</span>
                                                        <i-feather name="image" class="d-block d-md-none edit-user">
                                                        </i-feather>
                                                    </a>
                                                </li>



                                                <li class="nav-item">
                                                    <a class="nav-link font-weight-bold" #tab4 data-toggle="tab" href="#tab7" aria-controls="account" role="tab" aria-selected="true">
                                                        <span class="d-none d-md-block">Parientes</span>
                                                        <i-feather name="image" class="d-block d-md-none edit-user">
                                                        </i-feather>
                                                    </a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link font-weight-bold" data-toggle="tab" href="#tab2" aria-controls="account" role="tab" aria-selected="true">
                                                        <span class="d-none d-md-block">Calificaciones</span>
                                                        <i-feather name="users" class="d-block d-md-none"></i-feather>
                                                    </a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link font-weight-bold" data-toggle="tab" href="#tab3" aria-controls="account" role="tab" aria-selected="true">
                                                        <span class="d-none d-md-block">Indicadores</span>
                                                        <i-feather name="image" class="d-block d-md-none edit-user">
                                                        </i-feather>
                                                    </a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link font-weight-bold" data-toggle="tab" href="#tab6" aria-controls="account" role="tab" aria-selected="true">
                                                        <span class="d-none d-md-block">Transacciones</span>
                                                        <i-feather name="image" class="d-block d-md-none edit-user">
                                                        </i-feather>
                                                    </a>
                                                </li>

                                            </ul>


                                        </div>
                                    </div>
                                    <!--/ collapse  -->
                                </nav>
                                <!--/ navbar -->
                            </div>
                        </div>
                    </div>
                </div>
                <!--/ profile header -->

                <!-- profile info section -->
                <section>
                    <div class="tab-content">


                        <div class="tab-pane active" id="tab1" aria-labelledby="account-tab" role="tabpanel">
                            <div class="card">
                                <div class="card-body">
                                    <form class="auth-login-form mt-2" [formGroup]="datosBasicosForm">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Tipo de cliente</label>
                                                    <select class="form-control" id="status" name="tipoCliente" formControlName="tipoCliente" [(ngModel)]="datosBasicos.tipoCliente">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{tipoClientesOp.valor}}"
                              *ngFor="let tipoClientesOp of tipoClientesOpciones">
                              {{tipoClientesOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.tipoCliente.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.tipoCliente.errors.required">Tipo de cliente es requerido
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Fecha de creación</label>
                                                    <input type="text" id="fp-default" class="form-control flatpickr-basic" placeholder="" name="created_at" formControlName="created_at" [(ngModel)]="datosBasicos.created_at" disabled />

                                                </div>

                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Número de cédula</label>
                                                    <input type="text" class="form-control" name="cedula" formControlName="cedula" [(ngModel)]="datosBasicos.cedula">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.cedula.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.cedula.errors.required">Cédula es requerida
                                                        </div>
                                                        <div *ngIf="fdb.cedula.errors.pattern">Solo se aceptan números
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Nombres</label>
                                                    <input type="text" class="form-control" name="nombres" formControlName="nombres" [(ngModel)]="datosBasicos.nombres">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.nombres.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.nombres.errors.required">Nombres son requeridos
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Apellidos</label>
                                                    <input type="text" class="form-control" name="apellidos" formControlName="apellidos" [(ngModel)]="datosBasicos.apellidos">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.apellidos.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.apellidos.errors.required">Apellidos son requeridos
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Correo</label>
                                                    <input type="text" class="form-control" name="correo" formControlName="correo" [(ngModel)]="datosBasicos.correo">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.correo.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.correo.errors.required">Correo es requerido</div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Teléfono</label>
                                                    <input type="text" class="form-control" name="telefono" formControlName="telefono" [(ngModel)]="datosBasicos.telefono">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.telefono.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.telefono.errors.required">Teléfono es requerido</div>
                                                        <div *ngIf="fdb.telefono.errors.pattern">Solo se aceptan números
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Género</label>
                                                    <select class="form-control" id="status" name="genero" formControlName="genero" [(ngModel)]="datosBasicos.genero">
                                                      <option value="" selected>- Seleccionar -</option>
                                                      <option value="{{generoOp.valor}}" *ngFor="let generoOp of generoOpciones">
                                                          {{generoOp.nombre}}
                                                      </option>
                                                    </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.genero.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.genero.errors.required">Género es requerido
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Nacionalidad</label>
                                                    <select class="form-control select2" name="nacionalidad" formControlName="nacionalidad" [(ngModel)]="datosBasicos.nacionalidad">
                                                        <option value="" selected>- Seleccionar -</option>
                                                        <option value="{{nacionalidadOp.valor}}"
                                                        *ngFor="let nacionalidadOp of nacionalidadOpciones">
                                                        {{nacionalidadOp.nombre}}
                                                        </option>
                                                    </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.nacionalidad.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.nacionalidad.errors.required">Nacionalidad es requerida
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Fecha de nacimiento</label>
                                                    <input type="text" mwlFlatpickr class="form-control flatpickr-basic flatpickr-input" name="fechaNacimiento" formControlName="fechaNacimiento" [(ngModel)]="datosBasicos.fechaNacimiento" (input)="calcularEdad()">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.fechaNacimiento.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.fechaNacimiento.errors.required">Fecha de nacimiento es requerida
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Edad</label>
                                                    <input type="text" class="form-control" name="edad" formControlName="edad" [(ngModel)]="datosBasicos.edad" disabled>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.edad.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.edad.errors.required">Edad es requerida</div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">País de nacimiento</label>
                                                    <select class="form-control select2" name="paisNacimiento" formControlName="paisNacimiento" [(ngModel)]="datosBasicos.paisNacimiento" (change)="obtenerProvinciasNacimiento()">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{paisesOp.valor}}" *ngFor="let paisesOp of paisesOpciones">
                              {{paisesOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.paisNacimiento.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.paisNacimiento.errors.required">Pais de nacimiento es requerido</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="username">Lugar de nacimiento</label>
                                                <div class="input-group">
                                                    <select class="custom-select" name="provinciaNacimiento" formControlName="provinciaNacimiento" [(ngModel)]="datosBasicos.provinciaNacimiento" (change)="obtenerCiudadNacimiento()">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{provinciaNacimientoOp.valor}}"
                              *ngFor="let provinciaNacimientoOp of provinciaNacimientoOpciones">
                              {{provinciaNacimientoOp.nombre}}
                            </option>
                          </select>

                                                    <select class="custom-select" name="ciudadNacimiento" formControlName="ciudadNacimiento" [(ngModel)]="datosBasicos.ciudadNacimiento">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{ciudadNacimientoOp.valor}}"
                              *ngFor="let ciudadNacimientoOp of ciudadNacimientoOpciones">
                              {{ciudadNacimientoOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.provinciaNacimiento.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.provinciaNacimiento.errors.required">Provincia de nacimiento es requerida
                                                        </div>
                                                    </div>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.ciudadNacimiento.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.ciudadNacimiento.errors.required">Ciudad de nacimiento es requerida</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Estado civil</label>
                                                    <select class="form-control" name="estadoCivil" formControlName="estadoCivil" [(ngModel)]="datosBasicos.estadoCivil">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{estadoCivilOp.valor}}" *ngFor="let estadoCivilOp of estadoCivilOpciones">
                              {{estadoCivilOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.estadoCivil.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.estadoCivil.errors.required">Estado Civil es requerido
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">País de residencia</label>
                                                    <select class="form-control select2" name="paisResidencia" formControlName="paisResidencia" [(ngModel)]="datosBasicos.paisResidencia" (change)="obtenerProvinciasResidencia()">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{paisesOp.valor}}" *ngFor="let paisesOp of paisesOpciones">
                              {{paisesOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.paisResidencia.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.paisResidencia.errors.required">Pais de residencia es requerido</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <label for="username">Lugar de residencia</label>
                                                <div class="input-group">
                                                    <select class="custom-select" name="provinciaResidencia" formControlName="provinciaResidencia" [(ngModel)]="datosBasicos.provinciaResidencia" (change)="obtenerCiudadResidencia()">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{provinciaResidenciaOp.valor}}"
                              *ngFor="let provinciaResidenciaOp of provinciaResidenciaOpciones">
                              {{provinciaResidenciaOp.nombre}}
                            </option>
                          </select>
                                                    <select class="custom-select" name="ciudadResidencia" formControlName="ciudadResidencia" [(ngModel)]="datosBasicos.ciudadResidencia">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{ciudadResidenciaOp.valor}}"
                              *ngFor="let ciudadResidenciaOp of ciudadResidenciaOpciones">
                              {{ciudadResidenciaOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.provinciaResidencia.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.provinciaResidencia.errors.required">Provincia de residencia es requerida
                                                        </div>
                                                    </div>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.ciudadResidencia.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.ciudadResidencia.errors.required">Cuidad de residencia es requerida</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Nivel del estudios</label>
                                                    <select class="form-control" name="nivelEstudios" formControlName="nivelEstudios" [(ngModel)]="datosBasicos.nivelEstudios">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{nivelEstudiosOp.valor}}"
                              *ngFor="let nivelEstudiosOp of nivelEstudiosOpciones">
                              {{nivelEstudiosOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.nivelEstudios.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.nivelEstudios.errors.required">Nivel de estudios es requerido</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Profesión</label>
                                                    <select class="form-control select2" name="profesion" formControlName="profesion" [(ngModel)]="datosBasicos.profesion">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{profesionOp.valor}}" *ngFor="let profesionOp of profesionOpciones">
                              {{profesionOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.profesion.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.profesion.errors.required">Profesión es requerida
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Nombre de lugar de trabajo</label>
                                                    <input type="text" class="form-control" name="lugarTrabajo" formControlName="lugarTrabajo" [(ngModel)]="datosBasicos.lugarTrabajo">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.lugarTrabajo.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.lugarTrabajo.errors.required">Lugar de trabajo es requerido</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">País de trabajo</label>
                                                    <select class="form-control select2" name="paisTrabajo" formControlName="paisTrabajo" [(ngModel)]="datosBasicos.paisTrabajo" (change)="obtenerProvinciasTrabajo()">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{paisesOp.valor}}" *ngFor="let paisesOp of paisesOpciones">
                              {{paisesOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.paisTrabajo.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.paisTrabajo.errors.required">País de trabajo es requerido
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="username">Ubicación de lugar de trabajo</label>
                                                <div class="input-group">
                                                    <select class="custom-select" name="provinciaTrabajo" formControlName="provinciaTrabajo" [(ngModel)]="datosBasicos.provinciaTrabajo" (change)="obtenerCiudadTrabajo()">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{provinciaTrabajoOp.valor}}"
                              *ngFor="let provinciaTrabajoOp of provinciaTrabajoOpciones">
                              {{provinciaTrabajoOp.nombre}}
                            </option>
                          </select>
                                                    <select class="custom-select" name="ciudadTrabajo" formControlName="ciudadTrabajo" [(ngModel)]="datosBasicos.ciudadTrabajo">
                            <option value="" selected>- Seleccionar -</option>
                            <option value="{{ciudadTrabajoOp.valor}}"
                              *ngFor="let ciudadTrabajoOp of ciudadTrabajoOpciones">
                              {{ciudadTrabajoOp.nombre}}
                            </option>
                          </select>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.provinciaTrabajo.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.provinciaTrabajo.errors.required">Provincia de trabajo es requerida</div>
                                                    </div>
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.ciudadTrabajo.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.ciudadTrabajo.errors.required">Ciudad de trabajo es requerida</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Antigüedad en meses en el último
                            Trabajo</label>
                                                    <input type="text" class="form-control" name="mesesUltimoTrabajo" formControlName="mesesUltimoTrabajo" [(ngModel)]="datosBasicos.mesesUltimoTrabajo">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.mesesUltimoTrabajo.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.mesesUltimoTrabajo.errors.required">Antigüedad de trabajo es requerida</div>
                                                        <div *ngIf="fdb.mesesUltimoTrabajo.errors.pattern">Solo se aceptan números
                                                        </div>
                                                    </div>

                                                </div>

                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Meses Total de Trabajo</label>
                                                    <input type="text" class="form-control" name="mesesTotalTrabajo" formControlName="mesesTotalTrabajo" [(ngModel)]="datosBasicos.mesesTotalTrabajo">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.mesesTotalTrabajo.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.mesesTotalTrabajo.errors.required">Meses de trabajo son requeridos</div>
                                                        <div *ngIf="fdb.mesesTotalTrabajo.errors.pattern">Solo se aceptan números
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Ingresos Promedio Mensual</label>
                                                    <input type="text" class="form-control" name="ingresosPromedioMensual" formControlName="ingresosPromedioMensual" [(ngModel)]="datosBasicos.ingresosPromedioMensual">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.ingresosPromedioMensual.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.ingresosPromedioMensual.errors.required">Meses de trabajo son requeridos
                                                        </div>
                                                        <div *ngIf="fdb.ingresosPromedioMensual.errors.pattern">Solo se aceptan números decimales
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Gasto Promedio Mensual</label>
                                                    <input type="text" class="form-control" name="gastosPromedioMensual" formControlName="gastosPromedioMensual" [(ngModel)]="datosBasicos.gastosPromedioMensual">
                                                    <div *ngIf="submittedDatosBasicosForm && fdb.gastosPromedioMensual.errors" class="invalid-feedback" style="display: block;">
                                                        <div *ngIf="fdb.gastosPromedioMensual.errors.required">Promedio mensual de gastos es requerido
                                                        </div>
                                                        <div *ngIf="fdb.gastosPromedioMensual.errors.pattern">Solo se aceptan números decimales
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="username">Estado del cliente</label>
                                                    <div class="custom-control custom-switch">
                                                        <input type="checkbox" class="custom-control-input" id="customSwitches" name="estado" [(ngModel)]="estadoOpcion" (change)="cambiarEstado()" [ngModelOptions]="{standalone: true}">
                                                        <label class="custom-control-label" for="customSwitches"><b><span
                                  class="yellow">Activo</span> /
                                <span class="grain">Inactivo</span></b></label>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="col-12 d-flex flex-sm-row flex-column mt-2">
                                                <a (click)="guardarDatosBasicos()" class="btn btn-primary mb-1 mb-sm-0 mr-0 mr-sm-1 waves-effect waves-float waves-light">Guardar
                          y continuar</a>
                                                <button type="reset" class="btn btn-outline-info mb-1 mb-sm-0 mr-0 mr-sm-1 waves-effect waves-float waves-light">Borrar</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="tab2" aria-labelledby="account-tab" role="tabpanel">
                            <div class="row match-height">
                                <div class="col-md-3">
                                    <div class="card earnings-card">
                                        <div class="card-body text-center">
                                            <div class="avatar bg-light-primary p-50 mb-1">
                                                <div class="avatar-content">
                                                    <i-feather name='award' class="avatar-icon"></i-feather>
                                                </div>
                                            </div>
                                            <h6 class="mb-1">Calificación como cliente</h6>
                                            <h2 class="font-weight-bolder mt-1">8</h2>
                                            <p class="card-text text-muted font-small-2">
                                                <span>1 al 10</span>
                                            </p>
                                            <div id="earnings-chart"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card earnings-card">
                                        <div class="card-body text-center">
                                            <div class="avatar bg-light-success p-50 mb-1">
                                                <div class="avatar-content">
                                                    <i-feather name="check" class="avatar-icon font-medium-3">
                                                    </i-feather>

                                                </div>
                                            </div>
                                            <h6 class="mb-1">Calificación del ciente a la empresa</h6>
                                            <h2 class="font-weight-bolder mt-1">9</h2>
                                            <p class="card-text text-muted font-small-2">
                                                <span>1 al 10</span>
                                            </p>
                                            <div id="earnings-chart"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card earnings-card">
                                        <div class="card-body text-center">
                                            <div class="avatar bg-light-danger p-50 mb-1">
                                                <div class="avatar-content">
                                                    <i-feather name="user" class="avatar-icon"></i-feather>
                                                </div>
                                            </div>
                                            <h6 class="mb-1">Perfil del cliente</h6>
                                            <h2 class="font-weight-bolder mt-1">valor calculado</h2>
                                            <p class="card-text text-muted font-small-2">
                                                <span>Lorem ipsum</span>
                                            </p>
                                            <div id="earnings-chart"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="card earnings-card">
                                        <div class="card-body text-center">
                                            <div class="avatar bg-light-info p-50 mb-1">
                                                <div class="avatar-content">
                                                    <i-feather name='archive' class="avatar-icon"></i-feather>
                                                </div>
                                            </div>
                                            <h6 class="mb-1">Segmente del cliente</h6>
                                            <h2 class="font-weight-bolder mt-1">valor calculado</h2>
                                            <p class="card-text text-muted font-small-2">
                                                <span>Lorem ipsum</span>
                                            </p>
                                            <div id="earnings-chart"></div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>

                        <div class="tab-pane" id="tab3" aria-labelledby="account-tab" role="tabpanel">
                            <div class="card">
                                <h5 class="card-header">Filtros de búsqueda</h5>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <input type="text" class="form-control flatpickr-basic flatpickr-input" placeholder="- Periodo de inicio -">
                                        </div>
                                        <div class="col-md-4">
                                            <input type="text" class="form-control flatpickr-basic flatpickr-input" placeholder="- Periodo de finalización -">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card invoice-repeater">
                                <div class="card-datatable table-responsive pt-0">
                                    <div class="row m-75">
                                        <div class="col-lg-12 col-xl-6">
                                            <label>Mostrar</label>
                                            <select class="form-control-sm">
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                      </select>

                                        </div>

                                    </div>
                                    <table class="user-list-table table">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </th>
                                                <th>Tipo de indicador</th>
                                                <th>Nombre del indicador</th>
                                                <th>Descripción</th>
                                                <th>Valor</th>
                                                <th>Gráfica</th>
                                            </tr>
                                        </thead>

                                        <tbody data-repeater-list="invoice">
                                            <tr data-repeater-item>
                                                <td>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </td>
                                                <td>
                                                    <select class="form-control">
                            <option selected>- Seleccionar - </option>
                            <option># de compras por canal mensual</option>
                            <option>Monto compras promedio mensual</option>
                            <option>Monto compras promedio mensual por canal</option>
                            <option>Compras por categoría mensual</option>
                          </select>
                                                </td>
                                                <td>Valor calculado</td>
                                                <td>Valor calculado</td>
                                                <td>Valor calculado</td>
                                                <td>Valor calculado</td>
                                            </tr>
                                        </tbody>
                                    </table>

                                </div>
                                <hr />
                                <div class="row">
                                    <div class="col-12 m-2">
                                        <a class="btn btn-primary mb-1 mb-sm-0 mr-0 mr-sm-1 waves-effect waves-float waves-light">Guardar
                      y continuar</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="tab4" aria-labelledby="account-tab" role="tabpanel">
                            <div class="card invoice-repeater">
                                <div class="row m-75">
                                    <div class="col-lg-12 col-xl-6">
                                        <label>Mostrar</label>
                                        <select class="form-control-sm" [(ngModel)]="pageSizeDF" (change)="obtenerDatosFisicos()">
                      <option value="10">10</option>
                      <option value="25">25</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>

                                    </div>
                                    <div class="col-lg-12 col-xl-6 text-right">
                                        <button class="btn btn-icon btn-primary" type="button" data-toggle="modal" data-target="#adddatofisico" (click)="crearDatoFisico()">
                      <i-feather name="plus" class="mr-25 edit-user"></i-feather>
                      <span>Añadir</span>
                    </button>

                                    </div>
                                </div>
                                <div class="modal modal-slide-in new-user-modal fade" id="adddatofisico">
                                    <div class="modal-dialog">
                                        <div class="modal-content pt-0">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">×</button>
                                            <div class="modal-header mb-1">
                                                <h5 class="modal-title" id="exampleModalLabel">Nuevo contacto</h5>
                                            </div>
                                            <div class="modal-body flex-grow-1">
                                                <form class="auth-login-form mt-2" [formGroup]="datosFisicosForm">
                                                    <div class="form-group">
                                                        <label class="form-label">Fecha de registro:</label>
                                                        <input type="text" class="form-control dt-full-name" [ngModelOptions]="{standalone: true}" [(ngModel)]="datosFisicos.created_at" disabled />
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Tipo de dirección:</label>
                                                        <select id="user-role" class="form-control" name="tipoDireccion" formControlName="tipoDireccion" [(ngModel)]="datosFisicos.tipoDireccion">
                              <option value="" selected>- Seleccionar -</option>
                              <option value="{{tipoDireccionOp.valor}}"
                                *ngFor="let tipoDireccionOp of tipoDireccionOpciones">
                                {{tipoDireccionOp.nombre}}
                              </option>
                            </select>
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.tipoDireccion.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.tipoDireccion.errors.required">Tipo de dirección es requerida</div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">País:</label>
                                                        <select class="form-control select2" name="pais" formControlName="pais" [(ngModel)]="datosFisicos.pais" (change)="obtenerProvinciasDatosFisicos()">
                              <option value="" selected>- Seleccionar -</option>
                              <option value="{{paisesOp.valor}}" *ngFor="let paisesOp of paisesOpciones">
                                {{paisesOp.nombre}}
                              </option>
                            </select>
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.pais.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.pais.errors.required">País es requerido
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Provincia:</label>
                                                        <select class="form-control select2" name="provincia" formControlName="provincia" [(ngModel)]="datosFisicos.provincia" (change)="obtenerCiudadDatosFisicos()">
                              <option value="" selected>- Seleccionar -</option>
                              <option valu e="{{provinciaDatosFisicosOp.valor}}"
                                *ngFor="let provinciaDatosFisicosOp of provinciaDatosFisicosOpciones">
                                {{provinciaDatosFisicosOp.nombre}}
                              </option>
                            </select>
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.provincia.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.provincia.errors.required">Provincia es requerida
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Ciudad:</label>
                                                        <select class="form-control select2" name="ciudad" formControlName="ciudad" [(ngModel)]="datosFisicos.ciudad">
                              <option value="" selected>- Seleccionar -</option>
                              <option value="{{ciudadDatosFisicosOp.valor}}"
                                *ngFor="let ciudadDatosFisicosOp of ciudadDatosFisicosOpciones">
                                {{ciudadDatosFisicosOp.nombre}}
                              </option>
                            </select>
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.ciudad.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.ciudad.errors.required">Ciudad es requerida
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Calle principal:</label>
                                                        <input type="text" class="form-control" name="callePrincipal" formControlName="callePrincipal" [(ngModel)]="datosFisicos.callePrincipal" />
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.callePrincipal.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.callePrincipal.errors.required">Calle principal es requerida</div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Número:</label>
                                                        <input type="text" class="form-control" name="numero" formControlName="numero" [(ngModel)]="datosFisicos.numero" />
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.numero.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.numero.errors.required">Número es requerido
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Calle secundaria:</label>
                                                        <input type="text" class="form-control" name="calleSecundaria" formControlName="calleSecundaria" [(ngModel)]="datosFisicos.calleSecundaria" />
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.calleSecundaria.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.calleSecundaria.errors.required">Calle secundaria es requerida</div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Edificio:</label>
                                                        <input type="text" class="form-control" name="edificio" formControlName="edificio" [(ngModel)]="datosFisicos.edificio" />
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.edificio.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.edificio.errors.required">Edificio es requerido
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Piso:</label>
                                                        <input type="text" class="form-control" name="piso" formControlName="piso" [(ngModel)]="datosFisicos.piso" />
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.piso.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.piso.errors.required">Piso es requerido
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Oficina/Departamento:</label>
                                                        <input type="text" class="form-control" name="oficina" formControlName="oficina" [(ngModel)]="datosFisicos.oficina" />
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.oficina.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.oficina.errors.required">Oficina es requerida
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Referencia:</label>
                                                        <input type="text" class="form-control" name="referencia" formControlName="referencia" [(ngModel)]="datosFisicos.referencia" />
                                                        <div *ngIf="submittedDatosFisicosForm && dfForm.referencia.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dfForm.referencia.errors.required">Referencia es requerida
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <button class="btn btn-primary mr-1" aria-label="Close" (click)="guardarDatosFisicos()">Guardar</button>
                                                    <button #dismissModalDF data-toggle="modal" data-target="#exito" data-dismiss="modal" style="display: none;"></button>
                                                    <button type="reset" class="btn btn-outline-secondary" data-dismiss="modal">Cancelar</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-datatable table-responsive pt-0">
                                    <table class="user-list-table table">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </th>
                                                <th>Fecha registro</th>
                                                <th>Tipo de dirección</th>
                                                <th>País</th>
                                                <th>Provincia</th>
                                                <th>Ciudad</th>
                                                <th>Calle principal</th>
                                                <th>Número</th>
                                                <th>Calle secundaria</th>
                                                <th>Edificio</th>
                                                <th>Piso</th>
                                                <th>Oficina/Departamento</th>
                                                <th>Referencia</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>

                                        <tbody data-repeater-list="invoice">
                                            <tr data-repeater-item *ngFor="let datoFisico of listaDatosFisicos">
                                                <td>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </td>
                                                <td>{{transformarFecha(datoFisico.created_at)}}</td>
                                                <td>{{datoFisico.tipoDireccion}}</td>
                                                <td>{{datoFisico.pais}}</td>
                                                <td>{{datoFisico.provincia}}</td>
                                                <td>{{datoFisico.ciudad}}</td>
                                                <td>{{datoFisico.callePrincipal}} </td>
                                                <td>{{datoFisico.numero}} </td>
                                                <td>{{datoFisico.calleSecundaria}}</td>
                                                <td>{{datoFisico.edificio}}</td>
                                                <td>{{datoFisico.piso}} </td>
                                                <td>{{datoFisico.oficina}}</td>
                                                <td>{{datoFisico.referencia}} </td>
                                                <td>
                                                    <a data-toggle="modal" data-target="#adddatofisico" (click)="editarDatoFisico(datoFisico.id)">
                                                        <i-feather name='edit-2'></i-feather>
                                                    </a>
                                                    <a (click)="eliminarDatoFisicoModal(datoFisico.id)" data-repeater-delete>
                                                        <i-feather name='trash'></i-feather>
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <ngb-pagination #paginatorDF [collectionSize]="collectionSizeDF" [(page)]="pageDF" [(pageSize)]="pageSizeDF" [maxSize]="5" [ellipses]="false" [boundaryLinks]="true">
                                </ngb-pagination>

                                <hr />
                                <div class="row">
                                    <div class="col-12 m-2">
                                        <a class="btn btn-primary mb-1 mb-sm-0 mr-0 mr-sm-1 waves-effect waves-float waves-light" (click)="cambiarTab(3)">Guardar y continuar</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="tab5" aria-labelledby="account-tab" role="tabpanel">
                            <div class="card invoice-repeater">
                                <div class="row m-75">
                                    <div class="col-lg-12 col-xl-6">
                                        <label>Mostrar</label>
                                        <select class="form-control-sm" [(ngModel)]="pageSizeDV" (change)="obtenerDatosVirtuales()">
                      <option value="10">10</option>
                      <option value="25">25</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>

                                    </div>
                                    <div class="col-lg-12 col-xl-6 text-right">
                                        <button class="btn btn-icon btn-primary" type="button" data-toggle="modal" data-target="#addvirtual" (click)="crearDatoVirtual()">
                      <i-feather name="plus" class="mr-25 edit-user"></i-feather>
                      <span>Añadir</span>
                    </button>

                                    </div>
                                </div>
                                <div class="modal modal-slide-in new-user-modal fade" id="addvirtual">
                                    <div class="modal-dialog">
                                        <div class="modal-content pt-0">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">×</button>
                                            <div class="modal-header mb-1">
                                                <h5 class="modal-title" id="exampleModalLabel">Nuevo contacto virtual
                                                </h5>
                                            </div>
                                            <div class="modal-body flex-grow-1">
                                                <form class="auth-login-form mt-2" [formGroup]="datosVirtualesForm">
                                                    <div class="form-group">
                                                        <label class="form-label">Fecha de registro:</label>
                                                        <input type="text" class="form-control dt-full-name" name="created_at" [(ngModel)]="datosVirtuales.created_at" [ngModelOptions]="{standalone: true}" disabled />
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-label">Tipo de contacto:</label>
                                                        <select id="user-role" class="form-control" name="tipoContacto" formControlName="tipoContacto" [(ngModel)]="datosVirtuales.tipoContacto">
                              <option value="" selected>- Seleccionar -</option>
                              <option value="{{tipoContactoOp.valor}}"
                                *ngFor="let tipoContactoOp of tipoContactoOpciones">
                                {{tipoContactoOp.nombre}}
                              </option>
                            </select>
                                                        <div *ngIf="submittedDatosVirtualesForm && dvForm.tipoContacto.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dvForm.tipoContacto.errors.required">Tipo contacto es requerido</div>
                                                        </div>
                                                    </div>



                                                    <div class="form-group">
                                                        <label class="form-label">Información:</label>
                                                        <textarea class="form-control" rows="2" name="informacion" formControlName="informacion" [(ngModel)]="datosVirtuales.informacion"></textarea>
                                                        <div *ngIf="submittedDatosVirtualesForm && dvForm.informacion.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dvForm.informacion.errors.required">Información es requerida</div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="form-label">Icono:</label>
                                                        <select id="user-role" class="form-control" name="icono" formControlName="icono" [(ngModel)]="datosVirtuales.icono">
                              <option value="" selected>- Seleccionar -</option>
                              <option value="{{iconosDatosVirtualOp.valor}}"
                                *ngFor="let iconosDatosVirtualOp of iconosDatosVirtualOpciones">
                                {{iconosDatosVirtualOp.nombre}}
                              </option>
                            </select>
                                                        <div *ngIf="submittedDatosVirtualesForm && dvForm.icono.errors" class="invalid-feedback" style="display: block;">
                                                            <div *ngIf="dvForm.icono.errors.required">Ícono es requerido
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <button class="btn btn-primary mr-1" aria-label="Close" (click)="guardarDatosVirtuales()">Guardar</button>
                                                    <button #dismissModalDV data-toggle="modal" data-target="#exito" data-dismiss="modal" style="display: none;"></button>

                                                    <button type="reset" class="btn btn-outline-secondary" data-dismiss="modal">Cancelar</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-datatable table-responsive pt-0">
                                    <table class="user-list-table table">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </th>
                                                <th>Fecha registro</th>
                                                <th>Tipo de contacto</th>
                                                <th>Ícono</th>
                                                <th>Información</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>

                                        <tbody data-repeater-list="invoice">
                                            <tr data-repeater-item *ngFor="let datoVirtual of listaDatosVirtuales">
                                                <td>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </td>
                                                <td>{{transformarFecha(datoVirtual.created_at)}}</td>
                                                <td>{{datoVirtual.tipoContacto}}</td>
                                                <td class="icon-wrapper">
                                                    <i-feather name='{{datoVirtual.icono}}'></i-feather>
                                                </td>
                                                <td> {{datoVirtual.informacion}} </td>
                                                <td>
                                                    <a data-toggle="modal" data-target="#addvirtual" (click)="editarDatoVirtual(datoVirtual.id)">
                                                        <i-feather name='edit-2'></i-feather>
                                                    </a>
                                                    <a (click)="eliminarDatoVirtualModal(datoVirtual.id)" data-repeater-delete>
                                                        <i-feather name='trash'></i-feather>
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <ngb-pagination #paginatorDV [collectionSize]="collectionSizeDV" [(page)]="pageDV" [(pageSize)]="pageSizeDV" [maxSize]="5" [ellipses]="false" [boundaryLinks]="true">
                                </ngb-pagination>

                                <hr />
                                <div class="row">
                                    <div class="col-12 m-2">
                                        <a class="btn btn-primary mb-1 mb-sm-0 mr-0 mr-sm-1 waves-effect waves-float waves-light" (click)="cambiarTab(4)">Guardar y continuar</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="tab6" aria-labelledby="account-tab" role="tabpanel">
                            <div class="card">
                                <h5 class="card-header">Filtros de búsqueda</h5>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <input class="form-control" mwlFlatpickr type="text" [(ngModel)]="fechaInicioTransac" (input)="obtenerTransacciones()">
                                        </div>
                                        <div class="col-md-4">
                                            <input class="form-control" mwlFlatpickr type="text" [(ngModel)]="fechaFinTransac" (input)="obtenerTransacciones()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-sm-center align-items-start flex-sm-row flex-column">
                                    <div class="header-left">
                                        <h5>Gráfica de transacciones</h5>
                                    </div>
                                    <div class="header-right d-flex align-items-center mt-sm-0 mt-1">
                                        <small>
                      <i-feather name="calendar" class="edit-user"></i-feather>
                      rango: <b>21-03-2021 / 21-04-2021</b>
                    </small>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <canvas baseChart height="70vh" [colors]="barChartColors" [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions" [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType">
                  </canvas>
                                </div>
                            </div>
                            <div class="card invoice-repeater">
                                <div class="row m-75">
                                    <div class="col-lg-12 col-xl-6">
                                        <label>Mostrar</label>
                                        <select class="form-control-sm" [(ngModel)]="pageSizeTA" (change)="obtenerTransacciones()">
                      <option value="10">10</option>
                      <option value="25">25</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>

                                    </div>

                                </div>
                                <div class="modal modal-slide-in new-user-modal fade" id="addtransaccion">
                                    <div class="modal-dialog">
                                        <div class="modal-content pt-0">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">×</button>
                                            <div class="modal-header mb-1">
                                                <h5 class="modal-title" id="exampleModalLabel">Nueva transacción</h5>
                                            </div>
                                            <div class="modal-body flex-grow-1">
                                                <div class="form-group">
                                                    <label class="form-label">Fecha de registro:</label>
                                                    <input type="text" class="form-control flatpickr-basic flatpickr-input" />
                                                </div>

                                                <div class="form-group">
                                                    <label class="form-label">Canal de compra:</label>
                                                    <input type="text" class="form-control" />
                                                </div>

                                                <div class="form-group">
                                                    <label class="form-label"># de productos comprados:</label>
                                                    <input type="text" class="form-control" />
                                                </div>

                                                <div class="form-group">
                                                    <label class="form-label">Monto:</label>
                                                    <input type="text" class="form-control" />
                                                </div>


                                                <div class="form-group">
                                                    <label for="customFile">Factura</label>
                                                    <div class="custom-file">
                                                        <input type="file" class="custom-file-input" id="customFile" />
                                                        <label class="custom-file-label" for="customFile">Seleecionar
                            </label>
                                                    </div>
                                                </div>

                                                <button class="btn btn-primary mr-1" data-toggle="modal" data-target="#exito" data-dismiss="modal" aria-label="Close">Guardar</button>
                                                <button type="reset" class="btn btn-outline-secondary" data-dismiss="modal">Cancelar</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-datatable table-responsive pt-0">
                                    <table class="user-list-table table">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </th>
                                                <th>Fecha de compra</th>
                                                <th>Canal de compra</th>
                                                <th># de productos comprados</th>
                                                <th>Monto</th>
                                                <th>Factura</th>
                                            </tr>
                                        </thead>

                                        <tbody data-repeater-list="invoice">
                                            <tr data-repeater-item *ngFor="let transaccion of listaTransacciones">
                                                <td>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </td>
                                                <td>{{transformarFecha(transaccion.created_at)}}</td>
                                                <td>{{transaccion.canal}} </td>
                                                <td>{{transaccion.numeroProductosComprados}} </td>
                                                <td> ${{transaccion.total}} </td>
                                                <td>
                                                    <a (click)="obtenerTransaccion(transaccion.id)" data-toggle="modal" data-target="#verfactura">factura-{{transaccion.numeroFactura}}</a>
                                                </td>

                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <ngb-pagination #paginatorTA [collectionSize]="collectionSizeTA" [(page)]="pageTA" [(pageSize)]="pageSizeTA" [maxSize]="5" [ellipses]="false" [boundaryLinks]="true">
                                </ngb-pagination>
                            </div>
                        </div>

                        <div class="tab-pane" id="tab7" aria-labelledby="account-tab" role="tabpanel">
                            <div class="card invoice-repeater" *ngIf="parientesVista=='lista'">
                                <div class="row m-75">
                                    <div class="col-lg-12 col-xl-6">
                                        <label>Mostrar</label>
                                        <select class="form-control-sm" [(ngModel)]="pageSizePA" (change)="obtenerParientes()">
                      <option value="10">10</option>
                      <option value="25">25</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>

                                    </div>
                                    <div class="col-lg-12 col-xl-6 text-right">
                                        <button class="btn btn-icon btn-primary" type="button" (click)="crearPariente()">
                      <i-feather name="plus" class="mr-25 edit-user"></i-feather>
                      <span>Añadir</span>
                    </button>
                                    </div>
                                </div>

                                <div class="card-datatable table-responsive pt-0">
                                    <table class="user-list-table table">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </th>
                                                <th>Fecha registro</th>
                                                <th>Nombre</th>
                                                <th>Tipo pariente</th>
                                                <th>Edad</th>
                                                <th>Correo</th>
                                                <th>Celular</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>

                                        <tbody data-repeater-list="invoice">
                                            <tr data-repeater-item *ngFor="let pariente of listaParientes">
                                                <td>
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="customCheck2" />
                                                        <label class="custom-control-label" for="customCheck2"></label>
                                                    </div>
                                                </td>
                                                <td>{{transformarFecha(pariente.created_at)}}</td>
                                                <td>{{pariente.nombres +"" + pariente.apellidos}}</td>
                                                <td> {{pariente.tipoPariente}} </td>
                                                <td> {{pariente.edad}} </td>
                                                <td> {{pariente.correoPersonal}} </td>
                                                <td> {{pariente.celularPersonal}} </td>
                                                <td>
                                                    <a (click)="editarPariente(pariente.id)">
                                                        <i-feather name='edit-2'></i-feather>
                                                    </a>
                                                    <a (click)="eliminarParienteModal(pariente.id)" data-repeater-delete>
                                                        <i-feather name='trash'></i-feather>
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <ngb-pagination #paginatorPA [collectionSize]="collectionSizePA" [(page)]="pagePA" [(pageSize)]="pageSizePA" [maxSize]="5" [ellipses]="false" [boundaryLinks]="true">
                                </ngb-pagination>
                            </div>
                            <app-personas-parientes *ngIf="parientesVista=='editar'" [idPariente]="idPariente" [idCliente]="idCliente" (volver)="volver()"></app-personas-parientes>
                        </div>
                    </div>
                </section>
                <!--/ profile info section -->
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="verfactura" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="card invoice-preview-card">
                <!-- Header starts -->
                <div class="card-body invoice-padding pb-0">
                    <div class="d-flex justify-content-between flex-md-row flex-column invoice-spacing mt-0">
                        <div>
                            <div class="logo-wrapper">
                                <h3 class="text-primary invoice-logo">LOGO</h3>
                            </div>
                            <p class="card-text mb-25">Oficina 149, conoco pichincha</p>
                            <p class="card-text mb-25">Quito, Ecuador</p>
                            <p class="card-text mb-0">(876) 543 2198</p>
                        </div>
                        <div class="invoice-number-date mt-md-0 mt-2">
                            <div class="d-flex align-items-center justify-content-md-end mb-1">
                                <h4 class="invoice-title mr-1">Factura</h4>
                                <div class="input-group input-group-merge invoice-edit-input-group">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                            <i-feather name="hash"></i-feather>
                                        </div>
                                    </div>
                                    <input type="text" class="form-control invoice-edit-input" [(ngModel)]="transaccion.numeroFactura" disabled />
                                </div>
                            </div>
                            <div class="d-flex align-items-center mb-1">
                                <span class="title mr-1">Fecha:</span>
                                <input type="text" class="form-control invoice-edit-input date-picker" [(ngModel)]="transaccion.created_at" disabled />
                            </div>

                        </div>
                    </div>
                </div>
                <!-- Header ends -->

                <hr class="invoice-spacing" />

                <!-- Address and Contact starts -->
                <div class="card-body invoice-padding pt-0">
                    <h4 class="invoice-title mb-2">Datos para la factura</h4>
                    <div class="row">
                        <div class="col-4">
                            <label>Tipo de identificación</label>
                            <input class="form-control" type="text" value="{{transaccion.tipoIdentificacion}}" disabled>
                        </div>
                        <div class="col-4">
                            <label>Identificación</label>
                            <input class="form-control" type="text" value="{{transaccion.identificacion}}" disabled>
                        </div>
                        <div class="col-4">
                            <label>Razón social</label>
                            <input class="form-control" type="text" value="{{transaccion.razonSocial}}" disabled>
                        </div>
                        <div class="col-4">
                            <label>Dirección</label>
                            <input class="form-control" type="text" value="{{transaccion.direccion}}" disabled>
                        </div>
                        <div class="col-4">
                            <label>Teléfono</label>
                            <input class="form-control" type="text" value="{{transaccion.telefono}}" disabled>
                        </div>
                        <div class="col-4">
                            <label>Correo</label>
                            <input class="form-control" type="text" value="{{transaccion.correo}}" disabled>
                        </div>
                        <div class="col-4">
                            <label>Canal de compra</label>
                            <input class="form-control" type="text" value="{{transaccion.canal}}" disabled>
                        </div>
                    </div>
                </div>
                <!-- Address and Contact ends -->
                <hr class="invoice-spacing" />
                <!-- Product Details starts -->
                <div class="card-body invoice-padding">
                    <form class="source-item" *ngFor="let detalle of transaccion.detalles">
                        <div data-repeater-list="group-a">
                            <div class="repeater-wrapper" data-repeater-item>
                                <div class="row">
                                    <div class="col-12 d-flex product-details-border position-relative pr-0">
                                        <div class="row w-100 pr-lg-0 pr-1 py-2">
                                            <div class="col-lg-5 col-12 mb-lg-0 mb-2 mt-lg-0 mt-2">
                                                <p class="card-text col-title mb-md-50 mb-0">Artículo/Producto</p>
                                                <input class="form-control" type="text" value="{{detalle.articulo}}" disabled>
                                                <textarea class="form-control mt-2" rows="2" disabled>{{detalle.informacionAdicional}}</textarea>
                                            </div>
                                            <div class="col-lg-3 col-12 my-lg-0 my-2">
                                                <p class="card-text col-title mb-md-50 mb-0">Valor unitario</p>
                                                <input type="text" class="form-control" value="{{detalle.valorUnitario}}" disabled />
                                                <div class="mt-2">
                                                    <span>Descuento:</span><span>%</span>
                                                    <input type="number" class="form-control" value="{{detalle.descuento}}" placeholder="0" disabled />
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-12 my-lg-0 my-2">
                                                <p class="card-text col-title mb-md-50 mb-0">Cantidad</p>
                                                <input type="number" class="form-control" value="{{detalle.cantidad}}" placeholder="1" disabled />
                                                <div class="mt-2">
                                                    <span>Valor descuento:</span>
                                                    <input type="number" class="form-control" placeholder="0" disabled />
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-12 mt-lg-0 mt-2">
                                                <p class="card-text col-title mb-md-50 mb-0">Precio</p>
                                                <input type="text" class="form-control" value="{{detalle.precio}}" placeholder="24" disabled />
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>
                <!-- Product Details ends -->
                <hr class="invoice-spacing" />
                <!-- Invoice Total starts -->
                <div class="card-body invoice-padding">
                    <div class="row">
                        <div class="col-md-7">
                            <label for="salesperson" class="form-label">Persona de ventas:</label>
                            <input type="text" class="form-control" value="{{transaccion.nombreVendedor}}" disabled />
                        </div>
                        <div class="col-md-5 text-right">
                            <div class="invoice-total-wrapper">
                                <div class="invoice-total-item">
                                    <p class="invoice-total-title">Subtotal: ${{transaccion.subTotal}}</p>
                                </div>
                                <div class="invoice-total-item">
                                    <p class="invoice-total-title">Descuento: ${{transaccion.descuento}}</p>
                                </div>
                                <div class="invoice-total-item">
                                    <p class="invoice-total-title">IVA 12%: ${{transaccion.iva}}</p>
                                </div>
                                <hr class="my-50" />
                                <div class="invoice-total-item">
                                    <p class="invoice-total-title text-primary font-weight-bold">Total: ${{transaccion.total}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Invoice Total ends -->

                <hr class="invoice-spacing mt-0" />

                <div class="row p-2">
                    <div class="col-12">
                        <button type="button" class="btn btn-outline-secondary waves-effect" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<ng-template #mensajeModal let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Mensaje</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss( 'Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
    </div>
    <div class="modal-body">
        <div [innerHTML]="mensaje"></div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="cerrarModal()">Cerrar</button>
    </div>
</ng-template>
<ng-template #eliminarDatosVirtMdl let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Mensaje</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss( 'Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <p>Confirma eliminar</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="eliminarDatoVirtual()">SI</button>
    </div>
</ng-template>
<ng-template #eliminarDatosFisiMdl let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Mensaje</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss( 'Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <p>Confirma eliminar</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="eliminarDatoFisico()">SI</button>
    </div>
</ng-template>
<ng-template #eliminarParienteMdl let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Mensaje</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss( 'Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <p>Confirma eliminar</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="eliminarPariente()">SI</button>
    </div>
</ng-template>